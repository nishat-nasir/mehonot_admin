import 'package:auto_route/annotations.dart';import 'package:auto_route/auto_route.dart';import 'package:mehonot_admin/manager/navigation/router.gr.dart';import '../../../../manager/models/Ads/banner_ads/banner_md.dart';import '../../../../manager/redux/states/ads_state.dart';import '../../../template/template.dart';import '../../../widgets/containers/banner_container.dart';import '../../../widgets/status_refresh/StatusAndRefreshWidget.dart';@RoutePage()class BannerSetListPage extends StatefulWidget {  const BannerSetListPage({Key? key}) : super(key: key);  @override  State<BannerSetListPage> createState() => _BannerSetListPageState();}class _BannerSetListPageState extends State<BannerSetListPage> {  @override  void initState() {    super.initState();    refreshApi();  }  void refreshApi() async {    await appStore.dispatch(GetSettingsBannersAction());    setState(() {});  }  @override  Widget build(BuildContext context) {    return StoreConnector<AppState, AppState>(        converter: (store) => store.state,        builder: (_, state) {          return Padding(              padding: EdgeInsets.all(20.w),              child: SingleChildScrollView(                  child: SpacedColumn(                crossAxisAlignment: CrossAxisAlignment.end,                verticalSpace: 30,                children: [                  StatusAndRefreshWidget(                      onTapRefresh: refreshApi,                      statusAndDetails:                          "Setting banners list : ${state.adsState.settingBanner.length}",                      onTapCreate: () {                        context.pushRoute(BannerCreateRoute(                          bannerType: "setting",                          onBannerCreate: refreshApi,                        ));                      }),                  _buildBannerList(context, state),                ],              )));        });  }  Widget _buildBannerList(BuildContext context, AppState state) {    List<Widget> list = [];    List<BannerModel> settingBanners = state.adsState.settingBanner;    for (int i = 0; i < settingBanners.length; i++) {      list.add(BannerContainer(        bannerTitle: settingBanners[i].title,        imageUrl: settingBanners[i].image,        onTap: () {          context.pushRoute(BannerDetailsRoute(              banner: BannerModel(            title: settingBanners[i].title,            companyName: settingBanners[i].companyName,            removeAt: settingBanners[i].removeAt,            postedById: settingBanners[i].postedById,            createdAt: settingBanners[i].createdAt,            id: settingBanners[i].id,            bannerType: settingBanners[i].bannerType,            phone: settingBanners[i].phone ?? "",            image: settingBanners[i].image,            description: settingBanners[i].description ?? "",            email: settingBanners[i].email ?? "",            category: settingBanners[i].category ?? "",            website: settingBanners[i].website ?? '',            startAt: settingBanners[i].startAt,          )));        }, //TODO: Later version // onReqDecline: () {}, // onReqAccept: () {},        onEdit: () {          context.pushRoute(BannerEditRoute(              bannerMd: BannerModel(                title: settingBanners[i].title,                companyName: settingBanners[i].companyName,                removeAt: settingBanners[i].removeAt,                postedById: settingBanners[i].postedById,                createdAt: settingBanners[i].createdAt,                id: settingBanners[i].id,                bannerType: settingBanners[i].bannerType,                phone: settingBanners[i].phone ?? "",                image: settingBanners[i].image,                description: settingBanners[i].description ?? "",                email: settingBanners[i].email ?? "",                category: settingBanners[i].category ?? "",                website: settingBanners[i].website ?? '',                startAt: settingBanners[i].startAt,              ),              onBannerEdit: () {                refreshApi();              }));        },      ));    }    return SpacedColumn(      crossAxisAlignment: CrossAxisAlignment.center,      verticalSpace: 30.h,      children: list,    );  }}